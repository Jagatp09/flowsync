<%- include('../partials/managerSidebar', { activePage: 'staff' }) %>

<main class="flex-1 ml-64">
  <!-- Top Bar -->
  <header class="h-16 border-b border-primary/10 bg-white dark:bg-slate-900 px-8 flex items-center justify-between sticky top-0 z-10">
    <div class="flex items-center gap-4">
      <a href="/manager/staff/<%= staffMember.id %>" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg">
        <span class="material-symbols-outlined">arrow_back</span>
      </a>
      <h2 class="text-xl font-bold">Edit Staff</h2>
    </div>
  </header>
  <div class="p-8 max-w-2xl">
    <div class="bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-6">
      <form action="/manager/staff/<%= staffMember.id %>?_method=PUT" method="POST">
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Full Name</label>
            <input type="text" name="fullName" value="<%= staffMember.fullName %>" required class="w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white"/>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email</label>
            <input type="email" name="email" value="<%= staffMember.email %>" required class="w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white"/>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Role</label>
            <select name="role" class="w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white">
              <option value="STAFF" <%= staffMember.role === 'STAFF' ? 'selected' : '' %>>Staff</option>
              <option value="MANAGER" <%= staffMember.role === 'MANAGER' ? 'selected' : '' %>>Manager</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">New Password (leave blank to keep current)</label>
            <input type="password" name="password" placeholder="Enter new password" class="w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white"/>
            <p class="text-xs text-slate-500 mt-1">Minimum 6 characters</p>
          </div>
          <div class="flex items-center gap-2">
            <input type="checkbox" name="isActive" id="isActive" <%= staffMember.isActive ? 'checked' : '' %> class="rounded border-slate-300 text-primary focus:ring-primary"/>
            <label for="isActive" class="text-sm font-medium text-slate-700 dark:text-slate-300">Active</label>
          </div>
        </div>
        <div class="flex gap-3 mt-6">
          <a href="/manager/staff/<%= staffMember.id %>" class="flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors text-center">Cancel</a>
          <button type="submit" class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</main>
</div>
